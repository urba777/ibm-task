(this["webpackJsonpibm-task"]=this["webpackJsonpibm-task"]||[]).push([[0],{210:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(82),i=a.n(s),l=(a(89),a(6)),r=(a(90),a(21)),o=a.n(r),j=a(33),u=a(10),d=a(0),b=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,1)[0],c=Object(n.useState)(""),s=Object(l.a)(c,2),i=s[0],r=s[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),h=g[0],O=g[1],x=Object(n.useState)(""),m=Object(l.a)(x,2),p=m[0],v=m[1],f=Object(n.useState)(0),k=Object(l.a)(f,2),y=k[0],N=k[1],S=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){r(t.result)}},w=function(){var t=Object(j.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h||!i){t.next=13;break}return t.prev=1,N(1),t.next=5,fetch("/api/upload",{method:"POST",body:JSON.stringify({data:a,name:h}),headers:{"Content-type":"application/json"}});case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0),N(2);case 11:t.next=14;break;case 13:!h&&i?v("en"===e.language?"Enter image name!":"Pavadinimo laukelis privalomas!"):!i&&h?v("en"===e.language?"Select photo to upload!":"Pasirinkite nuotrauk\u0105!"):i||h||v("en"===e.language?"Select photo to upload and enter its name!":"Pasirinkite nuotrauk\u0105 ir priskirkite jai pavadinim\u0105!");case 14:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return 1===y?Object(d.jsxs)("div",{className:"uploadPage",style:{textAlign:"center"},children:[Object(d.jsx)("h4",{style:{color:"green",textAlign:"center"},children:"en"===e.language?"Image uploaded!":"Nuotrauka \u012fkelta!"}),Object(d.jsx)("h5",{style:{color:"green",textAlign:"center"},children:"en"===e.language?"It may take some time for the server to display the new image. Go to the gallery and if you don't see the new image, try reloading the page.":"Gali praeiti \u0161iek tiek laiko, kol serveris parodys nauj\u0105 vaizd\u0105. Jeigu galerijoje nematote naujo paveiksliuko - pabandykite perkrauti puslap\u012f."}),Object(d.jsx)(u.b,{to:"/",children:Object(d.jsx)("button",{onClick:function(){return N(0)},className:"btn",children:"en"===e.language?"Gallery":"Galerija"})})]}):2===y?Object(d.jsxs)("div",{className:"uploadPage",style:{textAlign:"center"},children:[Object(d.jsx)("h4",{style:{color:"red",textAlign:"center"},children:"en"===e.language?"Something is wrong with the server!":"Problemos su serveriu!"}),Object(d.jsx)(u.b,{to:"/",children:Object(d.jsx)("button",{onClick:function(){return N(0)},className:"btn",children:"en"===e.language?"Home":"Pagrindinis"})})]}):Object(d.jsxs)("div",{className:"uploadPage",children:[!i&&Object(d.jsx)("h3",{style:{textAlign:"center"},children:"en"===e.language?"Select an image to upload.":"Pasirinkite nuotrauk\u0105 \u012fk\u0117limui"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i&&w(i)},children:[Object(d.jsx)("input",{type:"file",name:"image",className:"btn",onChange:function(e){var t=e.target.files[0];S(t)},value:a}),i&&Object(d.jsx)("img",{className:"previewImage",src:i,alt:"Preview"}),i&&Object(d.jsx)("input",{type:"text",onChange:function(e){e.preventDefault();var t=e.target.value;O(t)},placeholder:"en"===e.language?"Enter name":"\u012eveskite pavadinim\u0105",style:{color:"black"}}),i&&Object(d.jsx)("button",{className:"btn",type:"submit",children:"en"===e.language?"Upload":"\u012ekelti"}),Object(d.jsx)("h4",{style:{color:"red",textAlign:"center"},children:p})]})]})},g=a(84),h=function(){return Object(d.jsxs)("div",{className:"lds-ellipsis",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})},O=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],i=function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/images");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),c.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"galleryTitle",children:"en"===e.language?"Gallery":"Galerija"}),Object(d.jsx)("div",{className:"gallery",children:c&&c.map((function(e,t){return Object(d.jsxs)("div",{className:"galleryItem",children:[Object(d.jsx)(g.a,{cloudName:"urba-website",publicId:e,width:"200",height:"300",crop:"scale"},t),Object(d.jsx)("div",{style:{textTransform:"capitalize"},className:"desc",children:e.slice(9)})]},t)}))})]}):Object(d.jsx)("div",{className:"allImages",children:c&&c.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(h,{})},e)}))})},x=a.p+"static/media/en.ba1c7f5d.svg",m=a.p+"static/media/lt.4c19d3a9.svg",p=function(e){var t=Object(n.useState)("1px solid white"),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),r=Object(l.a)(i,2),o=r[0],j=r[1];return Object(n.useEffect)((function(){"en"===e.language?(s("1px solid white"),j("none")):"lt"===e.language&&(s("none"),j("1px solid white"))}),[e.language]),Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("div",{className:"headerWrapper",children:[Object(d.jsxs)("div",{className:"headerButtons",children:[Object(d.jsx)(u.b,{to:"/",children:Object(d.jsx)("h5",{className:"headerButton",children:"en"===e.language?"Gallery":"Galerija"})}),Object(d.jsx)(u.b,{to:"/upload",children:Object(d.jsx)("h5",{className:"headerButton",children:"en"===e.language?"Upload":"\u012ekelti"})})]}),Object(d.jsxs)("div",{className:"languages",children:[Object(d.jsx)("img",{style:{border:c},onClick:function(){return e.setLanguage("en")},className:"languageIcon",src:x,alt:"English"}),Object(d.jsx)("img",{style:{border:o},onClick:function(){return e.setLanguage("lt")},className:"languageIcon",src:m,alt:"Lithuanian"})]})]})})},v=a(4),f=function(e){return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsxs)("div",{style:{color:"rgba(255,255,255,0.5)"},children:["Deividas Urbanavi\u010dius | IBM ","en"===e.language?"task":"u\u017eduotis"," | 2021"]}),Object(d.jsxs)("div",{className:"footerButtons",children:[Object(d.jsx)(u.b,{to:"/",children:Object(d.jsx)("h5",{className:"headerButton",children:"en"===e.language?"Gallery":"Galerija"})}),Object(d.jsx)(u.b,{to:"/upload",children:Object(d.jsx)("h5",{className:"headerButton",children:"en"===e.language?"Upload":"\u012ekelti"})})]})]})};var k=function(){var e=Object(n.useState)(localStorage.getItem("language")?localStorage.getItem("language"):"en"),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){localStorage.setItem("language",a)}),[a]),Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{className:"mainWeb",children:[Object(d.jsx)("header",{children:Object(d.jsx)(p,{language:a,setLanguage:c})}),Object(d.jsx)(v.b,{exact:!0,path:"/upload",children:Object(d.jsx)("main",{children:Object(d.jsx)(b,{language:a})})}),Object(d.jsx)(v.b,{exact:!0,path:"/",children:Object(d.jsx)("main",{children:Object(d.jsx)(O,{language:a})})}),Object(d.jsx)(v.d,{children:Object(d.jsxs)(v.b,{path:"*",children:[" ",Object(d.jsx)(v.a,{to:"/"})]})}),Object(d.jsx)("footer",{children:Object(d.jsx)(f,{language:a})})]})})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,211)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),y()},89:function(e,t,a){},90:function(e,t,a){}},[[210,1,2]]]);
//# sourceMappingURL=main.1269ca9a.chunk.js.map